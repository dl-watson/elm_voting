<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ranked-Choice Voting</title>
    <script type="text/javascript" src="elm.js"></script>
  </head>
  <body>
    <div id="root">
      <script type="text/javascript">
        const app = Elm.Main.init({
          node: document.querySelector("#root"),
        });

        // Create your WebSocket.
        var socket = new WebSocket("wss://echo.websocket.org");

        // When a command goes to the `sendMessage` port, we pass the message
        // along to the WebSocket.
        app.ports.sendMessage.subscribe(function (message) {
          socket.send(message);
        });

        // When a message comes into our WebSocket, we pass the message along
        // to the `messageReceiver` port.
        socket.addEventListener("message", function (event) {
          app.ports.messageReceiver.send(event.data);
        });
      </script>
    </div>
  </body>
</html>
